<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dog Breeds-dogdetails</title>
    <link rel="stylesheet" href="/stylesheets/dogdetails.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
    <script>

        document.addEventListener("DOMContentLoaded", () => {
            const editButtons = document.querySelectorAll(".edit-btn");
            const deleteButtons = document.querySelectorAll(".delete-btn");

            editButtons.forEach(button => {
                button.addEventListener("click", (event) => {
                    const breedId = event.target.dataset.id;

                    alert(`Edit breed with ID: ${breedId}`);
                });
            });

            deleteButtons.forEach(button => {
                button.addEventListener("click", (event) => {
                    const breedId = event.target.dataset.id;
                    if (confirm("Are you sure you want to delete this breed?")) {

                        alert(`Delete breed with ID: ${breedId}`);
                    }
                });
            });

            // Add button 
            document.getElementById("addBreed").addEventListener("click", () => {
                alert("Redirecting to add breed page...");

            });
        });

    </script>
    <!-- FontAwesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body>

    <div class="container">
        <div class="sidebar">
            <div class="user-info">
                <div class="user-avatar">
                    <%=sessions.loginsession.name.charAt(0).toUpperCase()%>
                </div>
                <div class="user-email">
                    <%=sessions.loginsession.email%>
                </div>
            </div>

            <ul class="menu">
                <li>
                    <a href="/adminhome">
                        <img src="/images/ภาพรวมสีดำ.png" alt="ภาพรวม">
                        <p>ภาพรวม</p>
                    </a>
                </li>

                <li class="active">
                    <a href="/dogdetails">
                        <img src="/images/จัดการพันธุ์สุนัขสีขาว.png" alt="จัดการพันธุ์สุนัข">
                        <p>จัดการพันธุ์สุนัข</p>
                    </a>
                </li>

                <li>
                    <a href="/userdetails">
                        <img src="/images/จัดการบัญชีผู้ใช้.png" alt="จัดการบัญชีผู้ใช้">
                        <p>จัดการบัญชีผู้ใช้</p>
                    </a>
                </li>
              
                <li class="layout_logout">
                    <a href="/login/logout"><button class="logout">ออกจากระบบ</button></a>
                </li>
            </ul>
        </div>

        <div class="content">
            <div class="header">
                จัดการพันธุ์สุนัข
            </div>
            <div class="actions">
                <a href="/dogdetails/addbreed" target="_blank" rel="noopener noreferrer">
                    <button class="add-btn">+ เพิ่มพันธุ์สุนัข</button>
                </a>
            </div>

            <table class="breed-table">
                <thead>
                    <tr>
                        <th>ลำดับ</th>
                        <th>รูปภาพ</th>
                        <th>ชื่อพันธุ์สุนัข</th>
                        <th>แก้ไข</th>
                        <th>ลบ</th>
                    </tr>
                </thead>
                <tbody>
                    <% dogs.forEach((dog, index)=> { %>

                        <tr>
                            <td>
                                <%= index + 1 %>
                            </td>
                            <td>
                                <img alt="dog" src="/uploads/<%=dog.image%>">
                            </td>

                            <td>
                                <a href="/dogdetails/<%=dog._id%>" rel="noopener noreferrer">
                                    <%= dog.breed %>
                                </a><br>
                            </td>

                            <td><button class="edit-btn">แก้ไข</button></td>
                            <td><button class="delete-btn">ลบ</button></td>
                        </tr>

                        <% }) %>
                        
                </tbody>
            </table>
        </div>
    </div>
</body>

</html>