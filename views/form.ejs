<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dog Breeds-form</title>
    <link rel="stylesheet" href="/stylesheets/form.css">
    <link rel="stylesheet" href="/stylesheets/index.css">
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script>
        function showQuestion(next) {
            document.getElementById(next).style.display = 'block';
        }

        function hideQuestion(current) {
            document.getElementById(current).style.display = 'none';
        }

        // ตรวจสอบว่าผู้ใช้ได้เลือกคำตอบก่อนย้ายไปคำถามถัดไป
        function validateAndNext(current, next) {
            const radios = document.querySelector(`#${current} input[type="radio"]:checked`);
            if (!radios) {
                alert('กรุณาเลือกคำตอบก่อน ยืนยัน');
                return;
            }
            hideQuestion(current);
            showQuestion(next);
        }

        function validatecheckbox(current, next) {
            const checkbox = document.querySelector(`#${current} input[type="checkbox"]:checked`);
            if (!checkbox) {
                alert('กรุณาเลือกคำตอบก่อน ยืนยัน');
                return;
            }
            hideQuestion(current);
            showQuestion(next);
        }

    </script>
</head>

<body>
    <%- include('./partial/header.ejs')%>
        <main>
            <form id="recommendation-form" action="/form/sendform" method="POST">

                <div class="form-container" id="question1">
                    <h2>คำถามข้อ 1 จากทั้งหมด 7 ข้อ</h2>
                    <h3>1. สถานที่อยู่อาศัยหลักของคุณ ?</h3>

                    <div class="options">
                        <label>
                            <input type="radio" name="housing" value="บ้านเดี่ยว/บ้านสวน">
                            <div class="option">
                                <img src="/images/home.png" alt="บ้านเดี่ยว/บ้านสวน">
                                <span>บ้านเดี่ยว/บ้านสวน</span>
                            </div>
                        </label>

                        <label>
                            <input type="radio" name="housing" value="1">
                            <div class="option">
                                <img src="/images/townhouse.png" alt="ทาวน์เฮ้าส์/บ้านแฝด">
                                <span>ทาวน์เฮ้าส์/บ้านแฝด</span>
                            </div>
                        </label>

                        <label>
                            <input type="radio" name="housing" value="2">
                            <div class="option">
                                <img src="/images/condo.png" alt="คอนโดมิเนียม/อพาร์ตเมนต์">
                                <span>คอนโดมิเนียม/อพาร์ตเมนต์</span>
                            </div>
                        </label>

                    </div>

                    <a href="/" class="button">ออก</a>
                    <button type="button" onclick="validateAndNext('question1', 'question2')">ยืนยัน</button>

                </div>
                <div class="form-container" id="question2">
                    <h2>คำถามข้อ 2 จากทั้งหมด 7 ข้อ</h2>
                    <h3>2. ลักษณะการดำเนินชีวิตประจำวันของคุณ ?</h3>
                    <div class="options">

                        <label>
                            <input type="radio" name="lifestyle" value="0">
                            <div class="option">
                                <img src="/images/work.png" alt="ทำงาน/เรียนเป็นหลักตลอดทั้งวัน (8:00-17:00 น.)">
                                <span>ทำงาน/เรียนเป็นหลักตลอดทั้งวัน <br>(8:00-17:00 น.)</span>
                            </div>
                        </label>

                        <label>
                            <input type="radio" name="lifestyle" value="1">
                            <div class="option">
                                <img src="/images/work.png" alt="ทำงาน/เรียนในช่วงเวลาปกติ (6-8 ชั่วโมงต่อวัน)">
                                <span>ทำงาน/เรียนแบบยืดหยุ่น <br>(น้อยกว่า 8 ชั่วโมงต่อวัน)</span>
                            </div>
                        </label>
                    </div>

                    <button type="button"
                        onclick="showQuestion('question1'); hideQuestion('question2')">ย้อนกลับ</button>
                    <button type="button" onclick="validateAndNext('question2', 'question3')">ยืนยัน</button>

                </div>
                <div class="form-container" id="question3">
                    <h2>คำถามข้อ 3 จากทั้งหมด 7 ข้อ</h2>
                    <h3>3. คุณมีเวลาว่างทำกิจกรรมร่วมกับสุนัข ?</h3>

                    <div class="options">

                        <label>
                            <input type="radio" name="freetime" value="1">
                            <div class="option">
                                <img src="/images/dog3.png" alt="มากกว่า 3 ชั่วโมงต่อวัน">
                                <span>มากกว่า 2 ชั่วโมงต่อวัน</span>
                            </div>
                        </label>

                        <label>
                            <input type="radio" name="freetime" value="0">
                            <div class="option">
                                <img src="/images/dog3.png" alt="น้อยกว่า 3 ชั่วโมงต่อวัน">
                                <span>น้อยกว่า 2 ชั่วโมงต่อวัน</span>
                            </div>
                        </label>
                    </div>

                    <button type="button"
                        onclick="showQuestion('question2'); hideQuestion('question3')">ย้อนกลับ</button>
                    <button type="button" onclick="validateAndNext('question3', 'question4')">ยืนยัน</button>

                </div>
                <div class="form-container" id="question4">
                    <h2>คำถามข้อ 4 จากทั้งหมด 7 ข้อ</h2>
                    <h3>4. สุนัขต้องอาศัยอยู่ร่วมกับเด็กเป็นหลัก ?</h3>

                    <div class="options">
                        <label>
                            <input type="radio" name="Ischildren" value="0">
                            <div class="option">
                                <img src="/images/no.png" alt="ไม่ใช่">
                                <span>ไม่ใช่</span>
                            </div>
                        </label>

                        <label>
                            <input type="radio" name="Ischildren" value="1">
                            <div class="option">
                                <img src="/images/baby.png" alt="ใช่">
                                <span>ใช่</span>
                            </div>
                        </label>
                    </div>

                    <button type="button"
                        onclick="showQuestion('question3'); hideQuestion('question4')">ย้อนกลับ</button>
                    <button type="button" onclick="validateAndNext('question4', 'question5')">ยืนยัน</button>

                </div>
                <div class="form-container" id="question5">
                    <h2>คำถามข้อ 5 จากทั้งหมด 7 ข้อ</h2>
                    <h3>5. สุนัขต้องอาศัยอยู่ร่วมกับสัตว์เลี้ยงตัวอื่นเป็นหลัก ?</h3>

                    <div class="options">

                        <label>
                            <input type="radio" name="IsOtheranimal" value="0">
                            <div class="option">
                                <img src="/images/no.png" alt="ไม่ใช่">
                                <span>ไม่ใช่</span>
                            </div>
                        </label>
                        <label>
                            <input type="radio" name="IsOtheranimal" value="1">
                            <div class="option">
                                <img src="/images/correct.png" alt="ใช่">
                                <span>ใช่</span>
                            </div>
                        </label>
                    </div>

                    <button type="button"
                        onclick="showQuestion('question4'); hideQuestion('question5')">ย้อนกลับ</button>
                    <button type="button" onclick="validateAndNext('question5', 'question6')">ยืนยัน</button>


                </div>
                <div class="form-container" id="question6">
                    <h2>คำถามข้อ 6 จากทั้งหมด 7 ข้อ</h2>
                    <h3>6. คุณมีพื้นที่ให้สุนัขวิ่งเล่นมากเพียงใด ?</h3>

                    <div class="options">

                        <label>
                            <input type="radio" name="space" value="0">
                            <div class="option">
                                <img src="/images/withdog.png" alt="พื้นที่จำกัด">
                                <span>พื้นที่จำกัด <br>ภายในบ้าน</span>
                            </div>
                        </label>

                        <label>
                            <input type="radio" name="space" value="1">
                            <div class="option">
                                <img src="/images/withdog.png" alt="พื้นที่กว้าง">
                                <span>พื้นที่กว้าง <br>นอกบ้าน</span>
                            </div>
                        </label>

                    </div>

                    <button type="button"
                        onclick="showQuestion('question5'); hideQuestion('question6')">ย้อนกลับ</button>
                    <button type="button" onclick="validateAndNext('question6', 'question7')">ยืนยัน</button>
                </div>

                <div class="form-container" id="question7">
                    <h2>คำถามข้อ 7 จากทั้งหมด 7 ข้อ</h2>
                    <h3>7. นิสัยสุนัขที่คุณชอบ ?</h3>

                    <div class="options2">
                        <label>
                            <input type="checkbox" name="preferredbehavior1" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="เป็นมิตร">
                                <span>เป็นมิตร</span>
                            </div>
                        </label>

                        <label>
                            <input type="checkbox" name="preferredbehavior2" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="ใจดี">
                                <span>ใจดี</span>
                            </div>
                        </label>

                        <label>
                            <input type="checkbox" name="preferredbehavior3" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="กระตือรือร้น">
                                <span>กระตือรือร้น</span>
                            </div>
                        </label>

                        <label>
                            <input type="checkbox" name="preferredbehavior4" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="ร่าเริง">
                                <span>ร่าเริง</span>
                            </div>
                        </label>

                        <label>
                            <input type="checkbox" name="preferredbehavior5" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="กล้าหาญ">
                                <span>กล้าหาญ</span>
                            </div>
                        </label>

                        <label>
                            <input type="checkbox" name="preferredbehavior6" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="มีความมั่นใจ">
                                <span>มีความมั่นใจ</span>
                            </div>
                        </label>

                        <label>
                            <input type="checkbox" name="preferredbehavior7" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="ฉลาด">
                                <span>ฉลาด</span>
                            </div>
                        </label>

                        <label>
                            <input type="checkbox" name="preferredbehavior8" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="จงรักเจ้าของ">
                                <span>จงรักเจ้าของ</span>
                            </div>
                        </label>

                        <label>
                            <input type="checkbox" name="preferredbehavior9" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="เชื่อฟังคำสั่ง">
                                <span>เชื่อฟังคำสั่ง</span>
                            </div>
                        </label>

                        <label>
                            <input type="checkbox" name="preferredbehavior10" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="เป็นนักสำรวจ ">
                                <span>เป็นนักสำรวจ </span>
                            </div>
                        </label>

                        <label>
                            <input type="checkbox" name="preferredbehavior11" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="เป็นตัวของตัวเอง">
                                <span>เป็นตัวของตัวเอง</span>
                            </div>
                        </label>

                         <label>
                            <input type="checkbox" name="preferredbehavior12" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="หวงอาณาเขต">
                                <span>หวงอาณาเขต</span>
                            </div>
                        </label> 

                         <label>
                            <input type="checkbox" name="preferredbehavior13" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="รักสงบ">
                                <span>รักสงบ</span>
                            </div>
                        </label>

                        <label>
                            <input type="checkbox" name="preferredbehavior14" value="1"
                                onchange="handleCheckboxChange(this)">
                            <div class="option">
                                <img src="/images/dog2.png" alt="ก้าวร้าว">
                                <span>ก้าวร้าว</span>
                            </div>
                        </label>
                    </div>


                    <button type="button"
                        onclick="showQuestion('question9'); hideQuestion('question10')">ย้อนกลับ</button>
                    <button type="submit" onclick="submitForm()">ยืนยัน</button>

                </div>


            </form>
        </main>

        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
            integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
            crossorigin="anonymous"></script>

        <script>
            document.getElementById("question2").style.display = "none";
            document.getElementById("question3").style.display = "none";
            document.getElementById("question4").style.display = "none";
            document.getElementById("question5").style.display = "none";
            document.getElementById("question6").style.display = "none";
            document.getElementById("question7").style.display = "none";
            function showQuestion(id) {
                document.getElementById(id).style.display = "block";
            }
            function hideQuestion(id) {
                document.getElementById(id).style.display = "none";
            }

        </script>
</body>

</html>